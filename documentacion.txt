Introducción
()
Método
En el desarrollo de los módulos de web scraping, cada integrante se responsabilizó de un sitio específico, lo que implicó que el código se adaptara a los requerimientos particulares de cada plataforma. El proceso se inició con Airbnb, continuó con Booking y culminó con Google Maps. A continuación, se detalla la implementación de cada módulo y las decisiones técnicas que orientaron su desarrollo.
Procedimiento: Airbnb
Herramientas y configuración.
•	Biblioteca: playwright.sync_api (Chromium).
•	Contexto de navegador: con user-agent definido manualmente.
•	Timeout por defecto: extendido a 15 segundos.
•	Modo de ejecución: actualmente no headless (headless=False) para fines de depuración.
Flujo de implementación
1.	Búsqueda inicial.
o	Abrir la página principal de Airbnb.
o	Ingresar “Barranquilla” en el campo de búsqueda y ejecutar la consulta.
2.	Procesamiento de resultados.
o	Desplazar la página de forma incremental para forzar la carga completa de alojamientos.
o	Identificar y recolectar enlaces únicos que contienen la ruta /rooms/.
o	Normalizar las URL mediante funciones de limpieza.
3.	Extracción de datos por alojamiento.
o	Cerrar modales mediante funciones especializadas para evitar bloqueos.
o	Acceder a la URL del alojamiento con hasta tres intentos de reintento.
o	Extraer metadatos iniciales: título (h1) y room_id.
o	Intentar abrir el modal de reseñas mediante múltiples estrategias: selectores, búsqueda textual o ejecución de scripts JavaScript.
o	Si el modal aparece, realizar desplazamientos progresivos dentro de él hasta garantizar la carga de la mayoría de las reseñas.
o	Extraer reseñas en lotes, obteniendo:
	Nombre del usuario
	Ubicación
	Puntuación
	Fecha
	Comentario
	Tipo de estadía
o	Asociar a cada reseña los metadatos del alojamiento: URL, título y room_id.
o	Regresar a la lista de resultados y continuar con el siguiente alojamiento.
4.	Paginación.
o	Localizar el botón “Siguiente”.
o	Si no se detecta paginación adicional, finalizar el proceso.
5.	Salida final.
o	Consolidar todos los datos en un archivo JSON: reseñas_airbnb_barranquilla_final.json.
Riesgos y limitaciones
•	Alta dependencia de los selectores, susceptibles a cambios por actualizaciones en la interfaz de Airbnb.

•	Los selectores aplicados para fechas y ubicación pueden requerir ajustes adicionales para cubrir variaciones de formato inesperadas.
Procedimiento: Booking
Herramientas y configuración.
•	Biblioteca: selenium.webdriver (Chrome).
•	Opciones de navegador: configuración de user-agent, uso de flags y supresión de logs innecesarios.
•	Sincronización: combinación de implicit wait y WebDriverWait para garantizar la carga de los elementos.
Flujo de implementación
1.	Búsqueda inicial:
o	Acceder a Booking.com.
o	Cerrar pop-ups iniciales en caso de aparecer.
o	Ingresar en el campo de búsqueda “Barranquilla, Atlántico, Colombia” y ejecutar la consulta.
2.	Procesamiento de resultados:
o	Realizar desplazamiento progresivo hasta que no se detecte nueva carga de elementos.
o	Identificar los hoteles a partir de selectores específicos y extraer nombre y enlace absoluto de cada uno.
3.	Extracción de datos por alojamiento:
o	Acceder a la página individual del hotel.
o	Intentar abrir la sección de reseñas empleando distintas estrategias.
o	Localizar las tarjetas de reseña y obtener los siguientes campos:
	Texto positivo
	Texto negativo
	Puntuación
	Nombre de usuario
	Fecha de publicación
o	Controlar la paginación de comentarios mediante múltiples estrategias de localización.
o	Avanzar página por página hasta un máximo de 10 iteraciones por hotel, evitando bucles infinitos.
o	Acumular los comentarios en una lista junto con metadatos: hotel, usuario, puntuación, fecha, textos positivo y negativo, y URL.
4.	Salida final:
o	Consolidar los resultados en un archivo JSON denominado datos.json.
Riesgos y limitaciones
•	El HTML dinámico de Booking puede variar según localización, lo que implica posibles ajustes de selectores.
•	El límite de 10 páginas por hotel, aunque evita bucles, puede dejar fuera reseñas en casos de gran volumen.
Procedimiento: Google Maps
Herramientas y configuración.
•	Biblioteca: selenium.webdriver (Chrome).
•	Opciones del navegador: ejecución en ventana maximizada, desactivación de notificaciones y extensiones.
•	Sincronización: WebDriverWait para garantizar la carga de elementos dinámicos.
Flujo de implementación
5.	Búsqueda inicial:
o	Acceder directamente a la URL de Google Maps con la consulta “Barranquilla, hoteles”.
o	Localizar el panel lateral de resultados y ejecutar desplazamientos sucesivos hasta que no aparezcan nuevos hoteles.
6.	Procesamiento de resultados:
o	Recolectar los elementos de hotel y extraer nombre y enlace asociado.
7.	Extracción de datos por alojamiento:
o	Abrir la ficha individual del hotel mediante su enlace.
o	Acceder a la pestaña de Opiniones, identificada por texto y atributos de rol.
o	Una vez cargada, ejecutar desplazamientos dentro del panel de reseñas para forzar la carga de un mayor número de comentarios.
o	Extraer los bloques de reseña obteniendo:
	Usuario
	Puntuación
	Comentario
	Fecha
o	Normalizar las fechas relativas en valores aproximados.
o	Acumular los comentarios en una lista junto con metadatos: hotel, usuario, puntuación, fecha, textos positivo y negativo, y URL.
o	Eliminar duplicados mediante un hash MD5 construido a partir del usuario y el texto de la reseña.
8.	Salida final:
o	Guardar los resultados en dos archivos:
	comentarios_hoteles.json, con el detalle de reseñas por hotel.
	hoteles_enumerados.json, con la lista de hoteles identificados (id, nombre y URL).
Riesgos y limitaciones
•	El DOM de Google Maps cambia con frecuencia, lo que puede invalidar selectores.
•	La extracción masiva de reseñas puede detonar bloqueos o CAPTCHA.
•	La estimación de fechas relativas es aproximada (ej. “hace 2 meses” se convierte en ~60 días), útil para análisis general, pero no para exactitud histórica.


Resultados generales
El proceso de scraping permitió recolectar un total de 18.755 reseñas provenientes de tres plataformas principales:
•	Airbnb: 6.345 reseñas
•	Booking: 4.368 reseñas
•	Google Maps: 8.042 reseñas
Este volumen refleja una cobertura amplia de alojamientos en la ciudad de Barranquilla, con variaciones tanto en la cantidad de reseñas como en los formatos de datos entre las distintas fuentes. De forma específica, se halló lo siguiente:
Distribución por alojamiento
En cada plataforma, algunos alojamientos concentraron un mayor número de reseñas:
•	Airbnb: los alojamientos con mayor volumen oscilaron entre 127 y 168 reseñas cada uno.
•	Booking: varios hoteles alcanzaron el máximo configurado en el scraping (100 reseñas.
•	Google Maps: los hoteles con más reseñas se situaron entre 130 y 140 comentarios.
Esto indica que, si bien se lograron extraer volúmenes significativos, en algunos casos los conteos pueden estar condicionados por los límites o la lógica de carga de cada sitio web.
Distribución de puntuaciones
Las plataformas muestran diferencias en sus escalas de calificación, lo que evidencia la necesidad de una normalización en códigos posteriores:
•	Airbnb: predominio de valoraciones de 5.0 (5.166 reseñas), aunque se detectaron registros con puntuación 0.0.
•	Booking: los puntajes se distribuyen principalmente entre 8.0 y 10.0, con más de 3.400 reseñas en ese rango.
•	Google Maps: se concentran en puntuaciones de 5.0 (4.191 reseñas) y 4.0 (1.698 reseñas), aunque se encontraron valores anómalos.
En conjunto, los datos muestran una tendencia hacia valoraciones positivas, aunque con ruidos e inconsistencias que deben corregirse para realizar análisis comparativos.
Fechas de las reseñas
El scraping capturó fechas en distintos formatos y granularidades:
Airbnb: mezcla de fechas absolutas (ej. agosto de 2025) y relativas (ej. hace 2 semanas).
Booking: fechas precisas en formato día-mes-año (ej. 18 de septiembre de 2025).
Google Maps: combinación de fechas normalizadas y casos sin información exacta (Fecha estimada no disponible).

Conclusión
En conclusión, el proceso de scraping desarrollado permitió recopilar un conjunto significativo de 18.755 reseñas, lo que constituye una base de datos robusta para futuros análisis sobre la percepción de los usuarios frente a la oferta hotelera en Barranquilla. Los resultados evidencian tanto la riqueza de la información obtenida como los retos asociados a la extracción de datos en entornos heterogéneos, tales como diferencias en escalas de puntuación, formatos de fecha y posibles inconsistencias en la estructura de los sitios.
